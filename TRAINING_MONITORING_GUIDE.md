# è®­ç»ƒè¿‡ç¨‹ç›‘æ§æŒ‡å—

æœ¬æŒ‡å—ä»‹ç»å¦‚ä½•è§‚æµ‹å’Œç›‘æ§ç”µåŠ›ç½‘ç»œåˆ†åŒºå¼ºåŒ–å­¦ä¹ è®­ç»ƒè¿‡ç¨‹ã€‚

## ğŸ¯ ç›‘æ§åŠŸèƒ½æ¦‚è§ˆ

### 1. å¢å¼ºçš„è®­ç»ƒæ—¥å¿—è®°å½•
- **å®æ—¶æŒ‡æ ‡è®°å½•**: å¥–åŠ±ã€å›åˆé•¿åº¦ã€æˆåŠŸç‡ã€è´Ÿè½½CVç­‰
- **TensorBoardé›†æˆ**: è‡ªåŠ¨è®°å½•è®­ç»ƒæ›²çº¿å’ŒæŒ‡æ ‡
- **æ§åˆ¶å°è¾“å‡º**: å®šæœŸæ˜¾ç¤ºè®­ç»ƒè¿›åº¦
- **ä¸­é—´æ£€æŸ¥ç‚¹**: è‡ªåŠ¨ä¿å­˜è®­ç»ƒç»Ÿè®¡ä¿¡æ¯

### 2. å®æ—¶ç›‘æ§å·¥å…·
- **å®æ—¶å›¾è¡¨**: 6ä¸ªå­å›¾æ˜¾ç¤ºå…³é”®è®­ç»ƒæŒ‡æ ‡
- **è‡ªåŠ¨æ›´æ–°**: å®šæœŸåˆ·æ–°æ˜¾ç¤ºæœ€æ–°æ•°æ®
- **ç§»åŠ¨å¹³å‡**: å¹³æ»‘æ˜¾ç¤ºè®­ç»ƒè¶‹åŠ¿

### 3. è¿›åº¦æ£€æŸ¥å·¥å…·
- **å¿«é€ŸçŠ¶æ€æŸ¥çœ‹**: ä¸€é”®æŸ¥çœ‹å½“å‰è®­ç»ƒçŠ¶æ€
- **å†å²ç»“æœåˆ†æ**: æŸ¥çœ‹å®Œæ•´è®­ç»ƒå†å²
- **æŒç»­ç›‘æ§æ¨¡å¼**: è‡ªåŠ¨å®šæœŸæ£€æŸ¥è¿›åº¦

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### å¯åŠ¨è®­ç»ƒï¼ˆå¸¦ç›‘æ§ï¼‰

```bash
# æ ‡å‡†è®­ç»ƒï¼ˆå·²å¯ç”¨ç›‘æ§åŠŸèƒ½ï¼‰
python train_unified.py --mode standard

# å¯ç”¨TensorBoardå’Œä¿å­˜ç»“æœ
python train_unified.py --mode standard --save-results

# è‡ªå®šä¹‰ç›‘æ§é—´éš”
python train_unified.py --mode standard --config config_unified.yaml
```

### å®æ—¶ç›‘æ§è®­ç»ƒè¿‡ç¨‹

åœ¨è®­ç»ƒå¼€å§‹åï¼Œæ‰“å¼€æ–°çš„ç»ˆç«¯çª—å£ï¼š

```bash
# å¯åŠ¨å®æ—¶ç›‘æ§ï¼ˆå›¾å½¢ç•Œé¢ï¼‰
python monitor_training.py

# è‡ªå®šä¹‰ç›‘æ§å‚æ•°
python monitor_training.py --log-dir logs --checkpoint-dir checkpoints --interval 5
```

### æ£€æŸ¥è®­ç»ƒè¿›åº¦

```bash
# å¿«é€Ÿæ£€æŸ¥å½“å‰çŠ¶æ€
python check_training_progress.py

# æŒç»­ç›‘æ§æ¨¡å¼
python check_training_progress.py --watch --interval 10

# è‡ªå®šä¹‰ç›®å½•
python check_training_progress.py --checkpoint-dir checkpoints --results-dir experiments
```

### ä½¿ç”¨TensorBoard

```bash
# å¯åŠ¨TensorBoard
tensorboard --logdir=logs

# åœ¨æµè§ˆå™¨ä¸­è®¿é—®
# http://localhost:6006
```

## ğŸ“Š ç›‘æ§æŒ‡æ ‡è¯´æ˜

### æ ¸å¿ƒè®­ç»ƒæŒ‡æ ‡
- **Episode Reward**: æ¯å›åˆè·å¾—çš„æ€»å¥–åŠ±
- **Episode Length**: æ¯å›åˆçš„æ­¥æ•°
- **Success Rate**: æˆåŠŸå®Œæˆåˆ†åŒºçš„æ¯”ä¾‹
- **Load CV**: è´Ÿè½½å˜å¼‚ç³»æ•°ï¼ˆè¶Šå°è¶Šå¥½ï¼‰

### è®­ç»ƒæŸå¤±æŒ‡æ ‡
- **Actor Loss**: ç­–ç•¥ç½‘ç»œæŸå¤±
- **Critic Loss**: ä»·å€¼ç½‘ç»œæŸå¤±
- **Entropy**: ç­–ç•¥ç†µï¼ˆæ¢ç´¢ç¨‹åº¦ï¼‰

### æ€§èƒ½æŒ‡æ ‡
- **Best Reward**: å†å²æœ€ä½³å¥–åŠ±
- **Moving Average**: å¥–åŠ±ç§»åŠ¨å¹³å‡
- **Training Time**: ç´¯è®¡è®­ç»ƒæ—¶é—´

## ğŸ”§ é…ç½®é€‰é¡¹

### æ—¥å¿—é…ç½® (config_unified.yaml)

```yaml
logging:
  use_tensorboard: true          # å¯ç”¨TensorBoard
  log_dir: logs                  # æ—¥å¿—ç›®å½•
  checkpoint_dir: checkpoints    # æ£€æŸ¥ç‚¹ç›®å½•
  console_log_interval: 10       # æ§åˆ¶å°æ—¥å¿—é—´éš”
  metrics_save_interval: 50      # æŒ‡æ ‡ä¿å­˜é—´éš”
  tensorboard_log_interval: 1    # TensorBoardæ—¥å¿—é—´éš”
```

### å¯è§†åŒ–é…ç½®

```yaml
visualization:
  enabled: true                  # å¯ç”¨å¯è§†åŒ–
  save_figures: true            # ä¿å­˜å›¾ç‰‡
  figures_dir: figures          # å›¾ç‰‡ç›®å½•
  interactive: true             # äº¤äº’å¼å›¾è¡¨
```

## ğŸ“ è¾“å‡ºæ–‡ä»¶ç»“æ„

```
project/
â”œâ”€â”€ logs/                      # TensorBoardæ—¥å¿—
â”‚   â””â”€â”€ training_20231221_143022/
â”œâ”€â”€ checkpoints/               # è®­ç»ƒæ£€æŸ¥ç‚¹
â”‚   â”œâ”€â”€ training_stats_episode_50.json
â”‚   â”œâ”€â”€ training_stats_episode_100.json
â”‚   â””â”€â”€ ...
â”œâ”€â”€ experiments/               # æœ€ç»ˆç»“æœ
â”‚   â”œâ”€â”€ standard_results_20231221_143500.json
â”‚   â””â”€â”€ standard_report_20231221_143500.md
â””â”€â”€ figures/                   # å¯è§†åŒ–å›¾ç‰‡
    â”œâ”€â”€ training_curves.png
    â””â”€â”€ partition_result.png
```

## ğŸ¨ ç›‘æ§ç•Œé¢è¯´æ˜

### å®æ—¶ç›‘æ§çª—å£ (monitor_training.py)
- **å·¦ä¸Š**: è®­ç»ƒå¥–åŠ±æ›²çº¿ï¼ˆå«ç§»åŠ¨å¹³å‡ï¼‰
- **ä¸­ä¸Š**: å›åˆé•¿åº¦å˜åŒ–
- **å³ä¸Š**: æˆåŠŸç‡è¶‹åŠ¿
- **å·¦ä¸‹**: è´Ÿè½½å˜å¼‚ç³»æ•°
- **ä¸­ä¸‹**: ActoræŸå¤±
- **å³ä¸‹**: CriticæŸå¤±

### TensorBoardç•Œé¢
- **SCALARS**: æ‰€æœ‰æ•°å€¼æŒ‡æ ‡çš„æ—¶é—´åºåˆ—
- **GRAPHS**: ç½‘ç»œç»“æ„å›¾
- **DISTRIBUTIONS**: å‚æ•°åˆ†å¸ƒ

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **TensorBoardæ— æ³•å¯åŠ¨**
   ```bash
   pip install tensorboard
   ```

2. **å®æ—¶ç›‘æ§æ— æ•°æ®**
   - ç¡®ä¿è®­ç»ƒå·²å¼€å§‹
   - æ£€æŸ¥æ£€æŸ¥ç‚¹ç›®å½•æ˜¯å¦å­˜åœ¨
   - ç¡®è®¤æ–‡ä»¶æƒé™

3. **å›¾è¡¨æ˜¾ç¤ºå¼‚å¸¸**
   ```bash
   pip install matplotlib numpy
   ```

### æ€§èƒ½ä¼˜åŒ–

1. **å‡å°‘æ—¥å¿—é¢‘ç‡**: å¢å¤§ `console_log_interval`
2. **å…³é—­TensorBoard**: è®¾ç½® `use_tensorboard: false`
3. **å‡å°‘æ£€æŸ¥ç‚¹**: å¢å¤§ `metrics_save_interval`

## ğŸ“ˆ æœ€ä½³å®è·µ

### è®­ç»ƒç›‘æ§å»ºè®®
1. **å¼€å§‹è®­ç»ƒå‰**: ç¡®è®¤ç›‘æ§é…ç½®æ­£ç¡®
2. **è®­ç»ƒæœŸé—´**: å®šæœŸæŸ¥çœ‹å®æ—¶ç›‘æ§
3. **è®­ç»ƒå®Œæˆå**: åˆ†æTensorBoardæ—¥å¿—
4. **é•¿æœŸè®­ç»ƒ**: ä½¿ç”¨æŒç»­ç›‘æ§æ¨¡å¼

### æŒ‡æ ‡è§£è¯»
- **å¥–åŠ±ä¸Šå‡**: è®­ç»ƒè¿›å±•è‰¯å¥½
- **å¥–åŠ±éœ‡è¡**: å¯èƒ½éœ€è¦è°ƒæ•´å­¦ä¹ ç‡
- **æˆåŠŸç‡ä½**: æ£€æŸ¥ç¯å¢ƒè®¾ç½®å’Œå¥–åŠ±å‡½æ•°
- **æŸå¤±ä¸æ”¶æ•›**: è€ƒè™‘è°ƒæ•´ç½‘ç»œç»“æ„

## ğŸ¯ é«˜çº§åŠŸèƒ½

### è‡ªå®šä¹‰ç›‘æ§æŒ‡æ ‡
å¯ä»¥åœ¨ `TrainingLogger` ä¸­æ·»åŠ æ–°çš„æŒ‡æ ‡è®°å½•ã€‚

### å¤šå®éªŒå¯¹æ¯”
ä½¿ç”¨ä¸åŒé…ç½®è¿è¡Œå¤šæ¬¡å®éªŒï¼Œç„¶åå¯¹æ¯”ç»“æœã€‚

### è‡ªåŠ¨åŒ–ç›‘æ§
ç»“åˆè„šæœ¬å®ç°è‡ªåŠ¨åŒ–è®­ç»ƒå’Œç›‘æ§æµç¨‹ã€‚

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. ä¾èµ–åŒ…æ˜¯å¦æ­£ç¡®å®‰è£…
2. é…ç½®æ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®
3. æ–‡ä»¶æƒé™æ˜¯å¦è¶³å¤Ÿ
4. ç£ç›˜ç©ºé—´æ˜¯å¦å……è¶³
